generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Vecindario {
  vecindarioId Int       @id @default(autoincrement())
  nombre       String
  ciudad       String
  ubicacion    String
  usuarios     Usuario[] // Relaci√≥n con usuarios
}

model Notificacion {
  notificacionId Int      @id @default(autoincrement())
  titulo         String
  notificacion   String
  contenido      String
  tipo           String
  fechaHora      DateTime @default(now())
  usuario        Usuario  @relation(fields: [usuarioId], references: [usuarioId])
  usuarioId      Int
}

model Usuario {
  usuarioId      Int            @id @default(autoincrement())
  nombre         String
  apellido       String
  email          String         @unique
  contrasena     String
  telefono       String
  direccion      String
  vecindario     Vecindario     @relation(fields: [vecindarioId], references: [vecindarioId])
  vecindarioId   Int
  notificaciones Notificacion[]
  alarmas        Alarma[]
}

model Alarma {
  alarmaId    Int       @id @default(autoincrement())
  descripcion String
  activo      Boolean   @default(true)
  fechaHora   DateTime  @default(now())
  tipo        String
  usuario     Usuario   @relation(fields: [usuarioId], references: [usuarioId])
  usuarioId   Int
}
